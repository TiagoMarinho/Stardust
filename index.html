<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title>Stardust</title>

    <meta name="viewport" content="width=device-width"/>

    <link href="css/generics.css" rel="stylesheet" />
    <link href="css/styles.css" rel="stylesheet" />
    <link href="css/specifics.css" rel="stylesheet" />

    <script src="js/libs/jquery-1.11.1.min.js"></script>
    <script src="js/libs/easeljs-0.8.1.min.js"></script>
    <script src="js/libs/tweenjs-0.5.1.min.js"></script>
    <script src="js/Utils.js"></script>
    <script src="js/Arrow.js"></script>
    <script src="js/Planet.js"></script>
    <script src="js/Bend.js"></script>
    <script src="js/Engine.js"></script>
    <script src="js/Pane Controller.js"></script>

    <script>
        $(document).on("ready", function() {
            window.app = new Stardust("mainCanvas");
            app.run();
            $(window).on("load resize", function() {
                $("#mainCanvas").attr({
                    "width": window.innerWidth,
                    "height": window.innerHeight
                });
            });
            setInterval(function(){
                $("#constraints").html(app.debugData.constraints);
                $("#nplanets").html(app.bodies.length);
                $("#fps").html((app.fps).toFixed());
                $("#ms").html((1000 / app.fps).toFixed());
            }, 1000 / 60);
        });
        window.addEventListener("keydown", function(e){
            if(e.keyCode === key.SPACE_BAR)
                $("#mainCanvas").toggleClass("blur");
        });
    </script>
</head>

<body oncontextmenu="return false;">
    <canvas id="mainCanvas" class="fullscreen noselect" width="550" height="400"></canvas>

    <div class="outer">
        <div class="inner">
            <div class="centre">
            <div id="preferences" class="pane">
                <input class="close" type="button" value="✕"/>
                <input type="checkbox" id="drawTrails" checked>
                <label class="noselect" for="drawTrails">Draw trails</label><br/>
                <input type="checkbox" id="usePreciseCollisionDetection">
                <label class="noselect" for="usePreciseCollisionDetection">Precise Collision Detection</label><br/><br/>
                <span class="grayed-out">Advanced:</span><br/>
                <input type="checkbox" id="drawConstraints">
                <label class="noselect" for="drawConstraints">Draw constraints</label><br/>
                <input type="checkbox" id="drawAABB">
                <label class="noselect" for="drawAABB">Draw AABBs</label>
            </div>
        </div>
        </div>
    </div>

    <div id="debugInfo" class="pane noevents">
        <span id="nplanets">0</span> planets<br/>
        <span id="constraints">0</span> constraints<br/>
        <span id="fps">0</span>fps / <span id="ms">∞</span>ms
    </div>
</body>
</html>
